{% doc %}
  Renders a group of blocks with configurable layout direction, gap and
  alignment.

  All settings apply to only one dimension to reduce configuration complexity.

  This component is a wrapper concerned only with rendering its children in
  the specified layout direction with appropriate padding and alignment.

  @example
  {% content_for 'block', type: 'group', id: 'group' %}
{% enddoc %}

{% capture style %}
  {% render "padding-vars", settings: block.settings %}
  --alignment: {{ block.settings.alignment }};
  --gap: {{ block.settings.gap }}px;
{% endcapture %}

<div
  class='group padding {{ block.settings.layout_direction }}'
  style='{{ style }}'
  {{ block.shopify_attributes }}>
  {% content_for 'blocks' %}
</div>

{% stylesheet %}
  .group {
    display: flex;
    flex-wrap: nowrap;
    overflow: hidden;
    width: 100%;
    gap: var(--gap);
  }

  .group--horizontal {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }

  .group--vertical {
    flex-direction: column;
    align-items: var(--alignment);
  }
{% endstylesheet %}

{% schema %}
  {
    "name": "t:general.group",
    "blocks": [{ "type": "@theme" }],
    "settings": [
      {
        "type": "select",
        "id": "layout_direction",
        "label": "t:labels.layout_direction",
        "default": "group--vertical",
        "options": [
          { "value": "group--horizontal", "label": "t:options.direction.horizontal" },
          { "value": "group--vertical", "label": "t:options.direction.vertical" }
        ]
      },
      {
        "visible_if": "{{ block.settings.layout_direction == 'group--vertical' }}",
        "type": "select",
        "id": "alignment",
        "label": "t:labels.alignment",
        "default": "flex-start",
        "options": [
          { "value": "flex-start", "label": "t:options.alignment.left" },
          { "value": "center", "label": "t:options.alignment.center" },
          { "value": "flex-end", "label": "t:options.alignment.right" }
        ]
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_top",
        "label": "Padding Top",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_top_mobile",
        "label": "Padding Top (Mobile)",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_right",
        "label": "Padding Right",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_right_mobile",
        "label": "Padding Right (Mobile)",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_bottom",
        "label": "Padding Bottom",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_bottom_mobile",
        "label": "Padding Bottom (Mobile)",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_left",
        "label": "Padding Left",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "padding_left_mobile",
        "label": "Padding Left (Mobile)",
        "max": 80,
        "min": 0,
        "step": 1,
        "unit": "px"
      },
      {
        "type": "range",
        "default": 0,
        "id": "gap",
        "label": "Gap",
        "max": 100,
        "min": 0,
        "step": 1,
        "unit": "px"
      }
    ],
    "presets": [
      {
        "name": "t:general.column",
        "category": "t:general.layout",
        "settings": {
          "layout_direction": "group--vertical",
          "alignment": "flex-start"
        }
      },
      {
        "name": "t:general.row",
        "category": "t:general.layout",
        "settings": {
          "layout_direction": "group--horizontal"
        }
      }
    ]
  }
{% endschema %}
